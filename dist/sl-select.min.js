"use strict";const AppySelectStore={};let AppyMultiIndex=0;const selectFactoryAdd=(t,e,n,l)=>{n.length||(n=[{value:"",label:""}]);const c=t?(e,t)=>{AppySelectStore[o].includes(t)?(AppySelectStore[o].splice(AppySelectStore[o].indexOf(t),1),e.classList.remove("selected")):(AppySelectStore[o].push(t),e.classList.add("selected")),d(AppySelectStore[o])}:(e,t)=>{AppySelectStore[o].includes(t)?AppySelectStore[o]=void 0:AppySelectStore[o]=t,s.classList.remove("opened"),d(AppySelectStore[o])},d=e=>{0<e.length?(s.value=e,i.innerText=t?e.join(", "):e):(s.value="",i.innerText=n[0].label),s.dispatchEvent(new window.Event("change",{bubbles:!0}))};AppySelectStore[AppyMultiIndex]=[];const o=AppyMultiIndex,s=document.createElement("div");s.classList.add("multi"),s.setAttribute("key",o);const i=document.createElement("div");i.classList.add("multi__inner"),i.innerText=n[0].label;const a=document.createElement("button");s.appendChild(a),a.appendChild(i);const p=document.querySelector(e);p.appendChild(s);const r=document.createElement("div");r.classList.add("multi__dropdown");const u=document.createElement("ul");for(let e=1;e<n.length;e++){const m=document.createElement("li");m.innerText=n[e].label,m.addEventListener("click",e=>{e.stopPropagation();var t=e.target.innerText;c(e.target,t)}),u.appendChild(m)}s.addEventListener("click",e=>{e.stopPropagation(),s.classList.toggle("opened")}),l&&s.addEventListener("change",e=>{l(s.value)}),s.appendChild(r),r.appendChild(u),AppyMultiIndex++};document.addEventListener("click",e=>{document.querySelectorAll(".multi").forEach(e=>{e.classList.remove("opened")})}),parent&&parent.document.addEventListener("click",function(e){document.querySelectorAll(".multi").forEach(e=>{e.classList.remove("opened")})}),window.selectFactory={add(e,t,n,l){selectFactoryAdd(e,t,n,l)}};