function onLegendItemClick(e){e.preventDefault();var i=-1,s=this.chart,e=!1;if((s.rangeSelector||s.navigator)&&(e=!0),1===s.options.chart.__visibleSeries.length&&s.options.chart.__visibleSeries[0]===this.name)return s.series.forEach(function(e){e.setVisible(!0,!1)}),s.options.chart.__visibleSeries.length=0,this.redraw(),!1;if(s.options.chart.__visibleSeries.includes(this.name))return this.setVisible(!1),i=s.options.chart.__visibleSeries.indexOf(this.name),s.options.chart.__visibleSeries.splice(i,1),!1;s.options.chart.__visibleSeries.push(this.name),s.series.forEach(function(e){e.name.includes("Navigator")||(s.options.chart.__visibleSeries.includes(e.name)?e.setVisible(!0,!1):e.setVisible(!1,!1))});i=s.series.length;e&&s.navigator.navigatorEnabled&&(i=s.series.length-s.navigator.series.length),s.options.chart.__visibleSeries.length===i&&(s.options.chart.__visibleSeries.length=0),this.redraw()}!function(e){e.wrap(e.Chart.prototype,"init",function(e){e.apply(this,Array.prototype.slice.call(arguments,1));var i=this,s=!!i.legend.options.reverseClick;i.update({chart:{__visibleSeries:[]}}),s&&(i.options.plotOptions.series||(i.options.plotOptions.series={}),i.options.plotOptions.series.events||(i.options.plotOptions.series.events={}),i.update({plotOptions:{series:{events:{legendItemClick:onLegendItemClick}}}}))})}(Highcharts);